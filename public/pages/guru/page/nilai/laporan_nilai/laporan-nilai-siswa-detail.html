<template>
  <div class="page page-homepage light" data-name="homepage">
    <div class="navbar">
      <div class="navbar-inner">
        <div class="left">
          <a href="#" class="back">
            <i class="icon icon-back mr-3 ml-3"></i>
            <span class="if-not-md">Back</span>
          </a>
        </div>
        <div class="title" style="margin-left: -10px;">Nilai Siswa</div>
        <div class="right">
          <a href="#" style="margin-right: 20px;">
            <i class="icon material-icons">exit_to_app</i>
          </a>
          <a href="#" id="test9" class="accordion-item-toggle">
            <i class="icon material-icons md-only">tune</i>
          </a>
          <a class="link popover-open" data-popover=".popover-menu-bantuan-siswa">
            <i class="icon material-icons">more_vert</i>
          </a>
        </div>
      </div>
    </div>
    <div class="page-content ptr-content" data-ptr-mousewheel="false" @ptr:refresh="ptr" @ptr:pullstart="start">
      <div class="ptr-preloader" id="ptr8" style="display: none;">
        <div class="preloader"></div>
        <div class="ptr-arrow"></div>
      </div>
      <!-- Awal Filter -->
      <div class="accordion-item accor accordion-item-opened">
        <div class="accordion-item-content">
          <div class="list no-hairlines-md">
            <div class="block mt-0">
              <div class="card mb-2 mt-0">
                <div class="card-content card-content-padding">
                  <div class="list no-hairlines-md">
                    <ul>
                      <li>
                        <a class="item-link smart-select smart-select-init" data-open-in="popup"
                          data-page-title="Pilih Sekolah" data-searchbar="true"
                          data-searchbar-placeholder="Cari Sekolah">
                          <select name="sekolah" @change="filter">
                            <option value="SMK Telkom Malang" selected>SMK Telkom Malang</option>
                            <option value="SMK Brantas">SMK Brantas</option>
                          </select>
                          <div class="item-content">
                            <div class="item-media">
                              <figure class="avatar avatar-30 no-shadow"><i class="material-icons">account_balance</i>
                              </figure>
                            </div>
                            <div class="item-inner">
                              <div class="item-title">Sekolah</div>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a class="item-link smart-select smart-select-init" data-open-in="popup"
                          data-page-title="Pilih Kelas" data-searchbar="true" data-searchbar-placeholder="Cari kelas">
                          <select name="kelas" @change="filter">
                            <option value="XII RPL 1" selected>XII RPL 1 (0909) </option>
                            <option value="XII RPL 2">XII RPL 2 (0908) </option>
                            <option value="XII RPL 3">XII RPL 3 (0907) </option>
                            <option value="XII RPL 4">XII RPL 4 (0906) </option>
                            <option value="XII RPL 5">XII RPL 5 (0905) </option>
                            <option value="XII RPL 6">XII RPL 6 (0904) </option>
                            <option value="XII RPL 7">XII RPL 7 (0903) </option>
                          </select>
                          <div class="item-content">
                            <div class="item-media">
                              <figure class="avatar avatar-30 no-shadow"><i class="material-icons">class</i></figure>
                            </div>
                            <div class="item-inner">
                              <div class="item-title">Kelas</div>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a class="item-link smart-select smart-select-init" data-open-in="popup"
                          data-page-title="Pilih Siswa" data-searchbar="true" data-searchbar-placeholder="Cari Siswa">
                          <select name="sekolah" @change="filter">
                              <option value="Matematika">Abimanyu</option>
                              <option value="IPA">Sutejo</option>
                              <option value="IPS">Wardhani Kusuma</option>
                              <option value="PKN">Opet bin azis</option>
                              <option value="Bahasa Indonesia">Aksara Loren</option>
                              <option value="Matematika">Abimanyu</option>
                              <option value="IPA">Sutejo</option>
                              <option value="IPS">Wardhani Kusuma</option>
                              <option value="PKN">Opet bin azis</option>
                              <option value="Bahasa Indonesia">Aksara Loren</option>
                          </select>
                          <div class="item-content">
                            <div class="item-media">
                              <figure class="avatar avatar-30 no-shadow"><i class="material-icons">person</i></figure>
                            </div>
                            <div class="item-inner">
                              <div class="item-title">Siswa</div>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a class="item-link smart-select smart-select-init" data-open-in="popup"
                          data-page-title="Pilih Mata Pelajaran" data-searchbar="true"
                          data-searchbar-placeholder="Cari Mata Pelajaran">
                          <select name="fruits">
                            <option value="apple" selected>Matematika (1122) </option>
                            <option value="pineapple">IPA (1143) </option>
                            <option value="pear">Bahasa Indonesia (2233) </option>
                            <option value="orange">Bahasa Inggris (3344) </option>
                            <option value="melon">PAI (6655) </option>
                            <option value="peach">IPS (1123) </option>
                            <option value="banana">Produktif RPL (1212) </option>
                          </select>
                          <div class="item-content">
                            <div class="item-media">
                              <figure class="avatar avatar-30 no-shadow"><i class="material-icons">library_books</i>
                              </figure>
                            </div>
                            <div class="item-inner">
                              <div class="item-title">Mapel</div>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <a class="item-link smart-select smart-select-init" data-open-in="popup"
                          data-page-title="Pilih Kategori" data-searchbar="true"
                          data-searchbar-placeholder="Cari Kategori">
                          <select name="sekolah" @change="filter">
                            <option value="harian" selected>Tugas </option>
                            <option value="UH">UH</option>
                            <option value="UTS">UTS</option>
                            <option value="UAS">UAS</option>
                          </select>
                          <div class="item-content">
                            <div class="item-media">
                              <figure class="avatar avatar-30 no-shadow"><i class="material-icons">view_module</i>
                              </figure>
                            </div>
                            <div class="item-inner">
                              <div class="item-title">Kategori</div>
                            </div>
                          </div>
                        </a>
                      </li>
                      <li>
                        <div class="item-content item-input">
                          <div class="item-media">
                            <figure class="avatar avatar-30 no-shadow"><a><i class="material-icons">today</i></a>
                            </figure>
                          </div>
                          <div class="item-inner">
                            <div class="item-input-wrap">
                              <input type="month" id="bulanku" value="2020-11" @change="filter">
                            </div>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Akhir Filter -->
      <!-- Awal Tabel -->
      <div class="data-table text-align-center mt-0">
        <table width="100%" id="tabelLaporanHarian">
          <thead>
            <tr>
              <th class="tgl label-cell">Tanggal</th>
              <th class="kat label-cell">Kategori</th>
              <th class="nilai numeric-cell">Nilai</th>
              <th class="keter label-cell">Keterangan</th>
            </tr>
          </thead>
          <tbody>
            {{#if loading}}
            <tr>
              <td class="tgl label-cell skeleton-text">1 Nov 2020</td>
              <td class="kat label-cell skeleton-text">Tugas</td>
              <td class="nilai numeric-cell skeleton-text">100</td>
              <td class="keter label-cell skeleton-text">qwertyuiop</td>
            </tr>
            <tr>
              <td class="tgl label-cell skeleton-text">1 Nov 2020</td>
              <td class="kat label-cell skeleton-text">Tugas</td>
              <td class="nilai numeric-cell skeleton-text">100</td>
              <td class="keter label-cell skeleton-text">qwertyuiop</td>
            </tr>
            <tr>
              <td class="tgl label-cell skeleton-text">1 Nov 2020</td>
              <td class="kat label-cell skeleton-text">Tugas</td>
              <td class="nilai numeric-cell skeleton-text">100</td>
              <td class="keter label-cell skeleton-text">qwertyuiop</td>
            </tr>
            {{else}}
            <tr @click="pindah">
              <td class="tgl label-cell"><a>1 Nov 2020</a></td>
              <td class="kat label-cell">Tugas</td>
              <td class="nilai numeric-cell">100</td>
              <td class="keter label-cell"></td>
            </tr>
            <tr @click="pindah">
              <td class="tgl label-cell"><a>2 Nov 2020</a></td>
              <td class="kat label-cell">Tugas</td>
              <td class="nilai numeric-cell">100</td>
              <td class="keter label-cell"></td>
            </tr>
            {{/if}}
          </tbody>
        </table>
        <br><br>
      </div>
      <!-- Akhir Table -->
    </div>
    <div class="popover popover-menu-bantuan-siswa">
      <div class="popover-angle"></div>
      <div class="popover-inner">
          <div class="list">
              <ul>
                  <li><a href="/pusat-bantuan/" class="list-button popover-close">Bantuan</a></li>
              </ul>
          </div>
      </div>
  </div>
  </div>
</template>

<style>
  .smart-select-page .page-content .list .item-radio .item-inner {
    margin-left: -18px;
  }
  .smart-select-page .page-content .list {
    margin-top: 0px;
  }
  span.searchbar-disable-button::after {
    margin-top: -20px;
  }
 
  td.label-cell{
    padding-right: 0px;
  }
  th.label-cell{
    padding-right: 0px;
  }
  td.numeric-cell{
    padding-right: 0px;
  }
  th.numeric-cell{
    padding-right: 0px;
  }
  th.tgl {
    padding-left: 15px;
  }
  td.tgl {
    padding-left: 15px;
    padding-right: 0;
    min-width: 95px;
  }
  th.kat {
    padding-left: 15px;
  }
  td.kat {
    padding-left: 15px;
  }
  th.keter {
    padding-right: 15px;
  }
  td.keter {
    padding-right: 15px;
    min-width: 100px;
  }
  td {
    cursor: pointer;
    margin: 15px 0;
  }
  tr:nth-child(even) {
    background-color: rgb(240, 240, 250);
  }
</style>
<script>
  return {
    data:function(){
      return{
        loading:true,
      }
    },
    on: {
      pageInit: function (e, page) {
       this.halaman();
    },
    },
    methods: {
      halaman: function () {
        var self = this;
        var app = self.$app;
        var $ = self.$;
        var acc = true;
        var a = new Date();

        setTimeout(function () {
          self.$setState({
            loading: false
          });
        }, 1000);

        $('#test9').on('click', function () {
          if (acc == true) {
            acc = false;
            app.accordion.close('.accor');
          } else {
            acc = true;
            app.accordion.open('.accor');
          };
        });
      },
      start: function () {
        $("#ptr8").show();
      },
      ptr: function (e, done) {
        var self = this;
        var $ = self.$$;
        self.$setState({
          loading: true
        });
        setTimeout(function () {
          self.$setState({
            loading: false
          });
          $("#ptr8").hide();
        }, 1000); // refresh done

        setTimeout(function () {
          self.$setState({
            items: self.items,
          });
          // Done
          done();
        }, 600);
      },
      filter: function () {
        var self = this;
        self.$setState({
          loading: true
        });
        setTimeout(function () {
          self.$setState({
            loading: false
          });
        }, 1000);
      },
      pindah: function(){
        app.views.main.router.navigate('/nila-tambah/');
      }
    },
  }
</script>